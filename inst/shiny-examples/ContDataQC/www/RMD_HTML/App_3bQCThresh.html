


<div id="evaluate-thresholds" class="section level2">
<h2>Evaluate Thresholds</h2>
<p>If you have one or more years of continuous data for a site, we
strongly encourage you to evaluate the performance of the QC test
thresholds for each parameter at that site and customize the
configuration file if needed.</p>
<p>Click <a href="EvaluateThresholds.zip">here</a> for instructions on
how to generate pivot tables and plots to evaluate thresholds for the
Unrealistic values (‘Gross range’) and Spike tests.</p>
<p>Another option is to use R code written by Tim Martin (Minnesota DNR)
to generate statistical outputs that can help inform thresholds for all
four QC tests. Click <a href="TimMartin_R_ThresholdEval.zip">here</a> to
download the R scripts and instructions.</p>
<p>To aid with documentation of the threshold evaluation process, click
<a href="ThresholdsCheckWorksheet_20220826.xlsx">here</a> to download an
Excel worksheet that lists the default thresholds for each parameter and
has a column where you can enter the customized values for a given site
as well as rationale for making the changes. When doing this, make sure
you consider what units you are using (as well as what the defaults
are), since units have a large effect on thresholds.</p>
</div>
<div id="edit-thresholds" class="section level2">
<h2>Edit Thresholds</h2>
<p>Click <a href="EditingQCtestThresholds_20220117.pdf">here</a> for
instructions on how to edit thresholds and create customized
configuration files. There are two options (see below). For either
option, save the customized configuration file in a folder that is easy
to find so that you can reuse the file each time you QC data for that
site. It is helpful to include the StationID and other relevant
information in the file name (for example, if thresholds are customized
for a particular season).</p>
<p>After you save the file, go to the ‘upload custom thresholds’ tab,
browse to the custom thresholds file, upload the file and then, under
‘Main functions’, generate the QC reports. If you forget the upload
step, the default QC thresholds will be used.</p>
<div id="option-1-use-the-interactive-functions-shown-left-and-below." class="section level3">
<h3>Option 1, use the interactive functions shown left and below.</h3>
<ul>
<li><p>Select a parameter using the drop-down menu</p></li>
<li><p>Edit thresholds using boxes below</p></li>
<li><p>Save changes (for each parameter)</p></li>
<li><p>Download custom thresholds file</p></li>
</ul>
<p>If you do not want to use the default units, you will need to use
Option 2.</p>
<p>Acknowledgment: Tim Martin (MN DNR) wrote the R code that we used for
the interactive functions below.</p>
</div>
<div id="option-2-download-the-default-configuration-file-open-the-file-in-r-or-notepad-make-edits-and-save." class="section level3">
<h3>Option 2, download the default configuration file, open the file in
R or Notepad++, make edits and save.</h3>
<p>Configuration files can be downloaded here -</p>
<ul>
<li><p><a href="Config_default.zip">Default</a>, with hydrologic
parameters in feet</p></li>
<li><p><a href="Config_Lakes_meters.zip">Hydrologic parameters in
meters</a> Navigate to the ‘QC tests and calculations’ section. Edit
thresholds as desired. Save the file.</p></li>
</ul>
<p>When you download the configuration file(s), you will see two types
of files: an R file (.R) and a text (.txt) file for users who do not
have R installed on their computer. You can download R from this
website:
<a href="https://cran.r-project.org" target="_blank">https://cran.r-project.org</a>.
You may also want to download
<a href="https://www.rstudio.com/products/rstudio/download/" target="_blank">RStudio</a>,
which is a separate program but is a useful code editor and interface
(IDE) for R. If you cannot install R on your computer, we recommend use
Notepad or
<a href="https://notepad-plus-plus.org/downloads" target="_blank">Notepad++</a>
(some people prefer Notepad++ because it has color-coding).</p>
</div>
</div>
<div id="upload-custom-thresholds" class="section level2">
<h2>Upload Custom Thresholds</h2>
<p>Click the ‘Browse’ button (to the left) and select the desired
customized configuration file. The status bar will tell you when the
file has been uploaded. A new button will appear that gives you the
option of returning to the default configuration file. Do not click this
unless you change your mind and no longer want to use the customized
file.</p>
<p>Go to the ‘Main Functions’ tab; select the desired input file(s); run
them through the QC function. Save the output to the desired location.
Open the Word or html QC report and scroll to the ‘Thresholds, Quick
Reference’ table (in the middle section of the report). Verify that the
correct thresholds were used.</p>
<p>Be aware that each time you close and reopen the Shiny app, it will
automatically revert back to the default configuration file. Also –
remember the sequencing! If you forget to upload the customized
configuration file prior to running the QC function, it will use the
default thresholds.</p>
</div>
